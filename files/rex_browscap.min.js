/**
 * RexBrowscap Addon - JS frontend functions
 * minified via http://refresh-sf.com/yui/
 */

function rex_browscap_cookies(a){document.cookie="display_width="+a.display_width+"; path=/";document.cookie="display_height="+a.display_height+"; path=/";document.cookie="viewport_width="+a.viewport_width+"; path=/";document.cookie="viewport_height="+a.viewport_height+"; path=/";document.cookie="rex_browscap_cookies_set=true; path=/"}function rex_browscap_callback(c,b){var a=null;if(window.XMLHttpRequest){a=new XMLHttpRequest()}else{if(window.ActiveXObject){a=new ActiveXObject("Microsoft.XMLHTTP")}}a.open("POST","index.php",b);a.setRequestHeader("Content-type","application/x-www-form-urlencoded");a.send("rex_browscap="+JSON.stringify(c));return a.responseText}function rex_browscap_inited(){return(document.cookie.indexOf("rex_browscap_cookies_set",0)===-1)?false:true}function rex_get_browser(){data={};data.action="rex_get_browser";return JSON.parse(rex_browscap_callback(data,false))}function rex_browscap_screen_sniff(f){if(!f){if(rex_browscap_inited()){return false}}var h={};h.display_width=screen.width;h.display_height=screen.height;var b=window,j=document,i=j.documentElement,c=j.getElementsByTagName("body")[0],a=b.innerWidth||i.clientWidth||c.clientWidth,k=b.innerHeight||i.clientHeight||c.clientHeight;h.viewport_width=a;h.viewport_height=k;h.landscape=h.viewport_width>h.viewport_height?true:false;rex_browscap_cookies(h);h.action="store_to_session";rex_browscap_callback(h,true)}var waitForFinalEvent=(function(){var a={};return function(d,b,c){if(!c){c="autoId"}if(a[c]){clearTimeout(a[c])}a[c]=setTimeout(d,b)}})();rex_browscap_screen_sniff(false);window.onresize=function(){waitForFinalEvent(function(){rex_browscap_screen_sniff(true)},500,"body")};
